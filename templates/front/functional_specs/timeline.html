{% extends 'front/_base.html' %}
{% load static %}

{% block content %}
<div class="functional-spec-container">
    <!-- タイトルセクション -->
    <h1 class="spec-title">タイムライン機能の使い方</h1>

    <!-- メイン動画セクション -->
    <div class="spec-video-section">
        <!-- サムネイル表示部分 -->
        <div class="video-thumbnail-container" onclick="openVideoModal()">
            <img class="video-thumbnail" src="{% static 'front/img/top/functional_specs/timeline.png' %}" alt="タイムライン機能の説明動画サムネイル">
            <div class="play-overlay">
                <i class="material-icons">play_arrow</i>
            </div>
        </div>

        <!-- ビデオモーダル -->
        <div class="video-modal" id="videoModal">
            <span class="close-modal" onclick="closeVideoModal()">&times;</span>
            <div class="modal-content">
                <video controls class="modal-video" id="modalVideo">
                    <source src="{% static 'front/video/functional_specs/timeline.mp4' %}" type="video/mp4">
                    お使いのブラウザは動画の再生に対応していません。
                </video>
            </div>
        </div>
    </div>

    <!-- 機能概要 -->
    <div class="spec-overview">
        <h2>タイムラインの機能概要</h2>
        <p>タイムライン機能を使用すると、ファンに向けて日常的な投稿を行うことができます。メッセージ、画像、動画を組み合わせて、魅力的な投稿を作成しましょう。</p>
    </div>

    <!-- 権限表 -->
    <div class="spec-permissions">
        <h2>権限と利用可能な機能</h2>
        <div class="permission-table-wrapper">
            <table class="permission-table">
                <thead>
                    <tr>
                        <th>機能</th>
                        <th>アーティスト</th>
                        <th>スタッフ</th>
                        <th>管理者</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>タイムラインの新規作成</td>
                        <td><span class="available">○</span></td>
                        <td><span class="available">○</span></td>
                        <td><span class="available">○</span></td>
                    </tr>
                    <tr>
                        <td>タイムラインの編集</td>
                        <td><span class="available">○</span></td>
                        <td><span class="available">○</span></td>
                        <td><span class="available">○</span></td>
                    </tr>
                    <tr>
                        <td>タイムラインの削除</td>
                        <td><span class="available">○</span></td>
                        <td><span class="available">○</span></td>
                        <td><span class="available">○</span></td>
                    </tr>
                    <tr>
                        <td>他者が作成したタイムラインの編集・削除</td>
                        <td><span class="unavailable">×</span></td>
                        <td><span class="available">○</span></td>
                        <td><span class="available">○</span></td>
                    </tr>
                </tbody>
            </table>
        </div>
        <p class="permission-note">○：利用可能　×：利用不可</p>
    </div>

    <!-- タイムラインの作成方法セクション -->
    <div class="spec-steps">
        <h2>タイムラインの作成方法</h2>
        <div class="step-item">
            <h3 data-step="1">新規投稿の追加</h3>
            <h4>方法1: タイムライン画面から</h4>
            <ol class="step-instructions">
                <li>画面下部のフッターにある「Time Line」をタップ</li>
                <li>一覧画面の右下にある「➕」ボタンをタップ</li>
            </ol>
            <div class="step-image-container">
                <img src="{% static 'front/img/functional_specs/specs_26.png' %}" alt="フッターから投稿を追加する説明画像" class="step-image">
            </div>
            <h4>方法2: ホーム画面から</h4>
            <ol class="step-instructions">
                <li>ホーム画面の「Time Line」セクションを見つける</li>
                <li>セクション内の「➕」ボタンをタップ</li>
            </ol>
            <div class="step-image-container">
                <img src="{% static 'front/img/functional_specs/specs_25.png' %}" alt="ホーム画面から投稿を追加する説明画像" class="step-image">
            </div>
            <h4>方法3: More画面から</h4>
            <ol class="step-instructions">
                <li>More画面の「コンテンツ」をタップ</li>
                <li>コンテンツの「Time Line」をタップ</li>
            </ol>
            <div class="step-image-container">
                <img src="{% static 'front/img/functional_specs/specs_03.png' %}" alt="More画面から投稿を追加する説明画像" class="step-image">
            </div>
        </div>

        <div class="step-item">
            <h3 data-step="2">投稿内容の入力</h3>
            <p>必要情報を入力します。</p>
            <p>アプリの入力欄に「＊」がついている項目は必須項目です。</p>
            <p>投稿には、テキストまたはメディアのどちらか（あるいは両方）が必要です。</p>
            
            <div class="accordion js-details">
                <div class="accordion-header js-details-summary">
                    本文
                </div>
                <div class="accordion-content js-details-content">
                    タイムラインに載せる文章を入力することができます。<br/>
                    1,000文字までの入力が可能です。<br/>
                    本文は必須ではありませんが、本文を入力しない場合はメディアを選択していただく必要がございます。
                </div>
            </div>
            <div class="accordion js-details">
                <div class="accordion-header js-details-summary">
                    メディア
                </div>
                <div class="accordion-content js-details-content">
                    画像や動画を合計4つまで選択、投稿することができます。<br/>
                    一度の投稿で合計500MBまでの制限をかけさせていただいております。<br/>
                    大きいサイズのメディアを投稿したい場合は、圧縮して小さくしていただくか、一度作成してから編集時に追加していただきますようお願いいたします。
                </div>
            </div>
            <div class="accordion js-details">
                <div class="accordion-header js-details-summary">
                    画像ダウンロードの許可
                </div>
                <div class="accordion-content js-details-content">
                    投稿した画像をダウンロードできるかどうかを設定することができます。<br/>
                    こちらの設定をONにすると「許可する」ことになり、OFFにすると「許可しない」ことになります。<br/>
                    こちらの設定は画像のみに適用されます。<br/>
                    動画は設定に関わらず常にダウンロードできませんので、予めご了承ください。
                </div>
            </div>
            <div class="accordion js-details">
                <div class="accordion-header js-details-summary">
                    投稿日時
                </div>
                <div class="accordion-content js-details-content">
                    投稿する日時を設定することができます。<br/>
                    今すぐ投稿する以外に、未来の日付で投稿を予約して自動投稿にすることも可能です。<br/>
                    この日時を過ぎるまではファンの方の画面には表示されませんが、運営の皆様の画面には公開前のタイムラインとして表示されます。
                </div>
            </div>
            <div class="accordion js-details">
                <div class="accordion-header js-details-summary">
                    公開範囲
                </div>
                <div class="accordion-content js-details-content">
                    公開範囲では、タイムラインをどのファンの方に向けて公開するかを選択することができます。<br/>
                    タイムラインには2種類の公開範囲が存在します。<br/>
                    &nbsp;1. 全体向け<br/>
                    &nbsp;2. 有料会員向け<br/><br/>

                    1の全体向けでは、ゲストの方も含め、全てのファンの方が見ることができます。<br/>
                    ゲストや利用制限中のファンの方は、画像のダウンロードなど一部の機能に制限がかかりますが、全体公開のタイムラインを見ることはできます。<br/>
                    2の有料会員向けでは、サブスクリプションに登録しているファンの方のみが見ることができます。<br/>
                    その他のファンの方の画面には表示されません。
                </div>
            </div>
            <div class="accordion js-details">
                <div class="accordion-header js-details-summary">
                    プッシュ通知
                </div>
                <div class="accordion-content js-details-content">
                    プッシュ通知設定では、タイムラインを投稿した際にファンの方に通知を送るかどうかを選択することができます。<br/>
                    ONにすると通知が送られ、OFFにすると通知は送られません。<br/>
                    ONの状態で予約投稿をした場合は、その予約した日時に通知が送られます。<br/><br/>

                    <div class="edit-point">※編集では変更できない項目です。</div>
                </div>
            </div>
            <div class="accordion js-details">
                <div class="accordion-header js-details-summary">
                    ピン留め
                </div>
                <div class="accordion-content js-details-content">
                    ピン留めでは、特定のタイムラインを固定することができます。<br/>
                    ピン留めをONにすると固定、OFFにすると固定しません。<br/><br/>

                    タイムラインが表示される箇所はHome画面とTime Line画面ですが、この2箇所で固定されます。<br/>
                    基本、投稿日時が最新のものから順に表示されますが、固定された投稿は日時関係なく一番初めに表示されるようになります。<br/><br/>

                    ピン留め設定をONにできるのは、1つの投稿のみです。<br/>
                    ある投稿でピン留めをONにした後、別の投稿でピン留めをONにすると、最初にONにしていた投稿は自動的にピン留めが解除されます。<br/>
                    ご注意ください。
                </div>
            </div>
            {% comment %} <div class="info-box">
                <h4>メディアの投稿について</h4>
                <p>画像・動画は１投稿につき合計4つまで投稿できます。</p>
                <ul>
                    <li>画像４枚まで</li>
                    <li>動画４本まで</li>
                    <li>画像と動画を組み合わせて合計４つまで</li>
                </ul>
            </div> {% endcomment %}
        </div>

        <div class="step-item">
            <h3 data-step="3">確認と投稿</h3>
            <p>入力内容を確認し、「投稿する」をタップして投稿します。</p>
        </div>
    </div>

    <!-- 投稿のヒント -->
    <div class="spec-tips">
        <h3>タイムラインのヒント</h3>
        <ul>
            <li>定期的な投稿を心がけ、ファンとの繋がりを深めましょう。</li>
            <li>テキストだけでなく、画像や動画を効果的に活用して魅力的な投稿を作成しましょう。</li>
            <li>ファンの反応（コメント、いいね）をチェックし、次の投稿に活かしましょう。</li>
        </ul>
    </div>

    <!-- 機能説明ナビゲーション -->
    <div class="spec-navigation">
        <!-- 前後の記事リンク -->
        <div class="spec-nav-links">
            <a href="{% url 'front:permissions_overview' %}" class="spec-nav-link prev">
                <span class="nav-label">前の記事</span>
                <span class="nav-title">権限について</span>
            </a>
            <a href="{% url 'front:collection' %}" class="spec-nav-link next">
                <span class="nav-label">次の記事</span>
                <span class="nav-title">コレクション機能</span>
            </a>
        </div>
        {% include 'front/functional_specs/_spec_list.html' %}
    </div>
</div>

{% endblock %}
